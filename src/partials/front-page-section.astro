---
import {type CollectionEntry, render, getEntry } from 'astro:content'
import {Image} from 'astro:assets'
import loadContentImage from '../utils/load-content-image'

interface Props {
  section: CollectionEntry<'frontPageSections'>
}
const {section} = Astro.props
const {Content} = await render(section)
const {image, link} = section.data
const linkedArticle = !!link && await getEntry(link)



---
<section>
{image && <Image src={loadContentImage(image)} alt="" />}
<Content />
{linkedArticle && <a href={`${import.meta.env.BASE_URL}/${linkedArticle.id}`}>{linkedArticle.data.title}</a>
</section>