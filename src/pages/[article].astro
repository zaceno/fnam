---
import {getCollection, render} from 'astro:content'
import {Image} from 'astro:assets'
import loadContentImage from '../utils/load-content-image'
import MainLayout from '../partials/main-layout.astro'
import PageLayout from '../partials/page-layout.astro'

export async function getStaticPaths() {
  const articles = await getCollection('articles')
  return articles.map(article => ({
    params: {article: article.id},
    props: {article}
  }))
}

const {article} = Astro.props
const {title, image} = article.data
const {Content} = await render(article)

// Define layout configurations for specific articles
const layoutConfig: Record<string, { showHero: boolean; imagePosition: string }> = {
  'vad-ar-frimureri': { showHero: false, imagePosition: 'right' },
  'blatt-frimureri': { showHero: false, imagePosition: 'top' },
  'vad-ar-en-loge': { showHero: false, imagePosition: 'right' },
  'frimureriets-historia': { showHero: false, imagePosition: 'top' },
  'frimureri-och-religion': { showHero: false, imagePosition: 'top' }
}

const config = layoutConfig[article.id] || { showHero: true, imagePosition: 'right' }
---
<MainLayout title={title}>
  <PageLayout 
    title={title} 
    image={image} 
    showHero={config.showHero}
    imagePosition={config.imagePosition}
  >
    <Content />
  </PageLayout>
</MainLayout>